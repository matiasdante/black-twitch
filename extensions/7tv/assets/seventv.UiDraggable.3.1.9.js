import{_ as w,x as g,l as y,m as p,e as M,r as f,P as C,h as T,a as k,aD as D,w as L,o as $,an as O,O as S,aE as x}from"./seventv.index.3.1.9.js";import{g as z,f as F}from"./seventv.index.3.1.92.js";const H={},R={width:"1em",height:"1em",version:"1.1",viewBox:"0 0 20 20",x:"0px",y:"0px",fill:"currentColor"},U=p("g",null,[p("path",{d:"M8.5 10L4 5.5 5.5 4 10 8.5 14.5 4 16 5.5 11.5 10l4.5 4.5-1.5 1.5-4.5-4.5L5.5 16 4 14.5 8.5 10z"})],-1),q=[U];function I(v,h){return g(),y("svg",R,q)}const Y=w(H,[["render",I]]),N=M({__name:"UiDraggable",props:{initialPosition:{},initialAnchor:{},initialMiddleware:{},initialPlacement:{},emitClickout:{type:Boolean},handle:{},once:{type:Boolean}},emits:["clickout"],setup(v,{emit:h}){const e=v,A=h,n=f(),P=[C({crossAxis:!0,mainAxis:!0})],B=T(()=>e.handle??n.value);let _;const c=f(0),r=f(0);async function s(t,i){if(!n.value)return;const l=Symbol();_=l;const{x:d,y:m}=await x({getBoundingClientRect(){return{width:0,height:0,x:t,y:i,top:i,left:t,right:t,bottom:i}},contextElement:e.initialAnchor instanceof HTMLElement?e.initialAnchor:void 0},n.value,{middleware:P,placement:"bottom-start"});_===l&&(c.value=d,r.value=m)}async function b(t){if(!n.value)return;const{x:i,y:l}=await x(t,n.value,{middleware:e.initialMiddleware,placement:e.initialPlacement});await s(i,l)}let u;z(n,{onMove({x:t,y:i}){u||window.requestAnimationFrame(()=>{s(t,i),u=void 0})},handle:B,preventDefault:!0});let a;k(()=>[n.value,e.initialPosition,e.initialMiddleware,e.initialPlacement],()=>{a==null||a(),a=void 0;const t=n.value;if(!t)return;let i=!0;a=D({getBoundingClientRect(){return{width:0,height:0,x:c.value,y:r.value,top:r.value,left:c.value,right:c.value,bottom:r.value}},contextElement:e.initialAnchor instanceof HTMLElement?e.initialAnchor:void 0},t,()=>{var l,d;if(i){if(e.initialAnchor)b(e.initialAnchor);else{const m=((l=e.initialPosition)==null?void 0:l[0])??0,E=((d=e.initialPosition)==null?void 0:d[1])??0;s(m,E)}i=!1}else e.once||s(c.value,r.value)})},{immediate:!0});let o;return L(()=>{o==null||o(),o=void 0,e.emitClickout&&(o=F(n.value,t=>A("clickout",t)))}),$(()=>{a==null||a(),o==null||o(),u&&cancelAnimationFrame(u)}),(t,i)=>(g(),y("div",{ref_key:"el",ref:n,class:"draggable-container",style:S({top:`${r.value}px`,left:`${c.value}px`})},[O(t.$slots,"default",{},void 0,!0)],4))}}),j=w(N,[["__scopeId","data-v-8dac15e8"]]);export{Y as T,j as U};
