import{i as f}from"./seventv.GearsIcon.3.1.9.js";import{C as g}from"./seventv.ChatMessage.3.1.9.js";const u={PLATFORM:[1,2,4],"7TV":[1,2,3,4],FFZ:[1,2,4],BTTV:[1,2,4],EMOJI:[]},c={};function d(e,t="7TV",s,r,i=1){if(i===1&&c[e.url])return c[e.url];const{preferredFormat:o}=f();let n=e.files;t==="7TV"&&(n=n.filter(a=>a.format===(s??o)));let l="";for(let a=0;a<n.length;a++){const p=n[a];let m=u[t][a];if(!m||r&&m>i&&m>r)break;m/=i,l&&(l+=", "),l+=`${e.url}/${p.name} ${m}x`}return i===1&&(c[e.url]=l),l}function y(e,t,s,r="7TV"){const{preferredFormat:i}=f();return(r=="7TV"?s.files.filter(o=>o.format===i):s.files).slice(0,u[r][u[r].length-1]).reduce((o,n,l)=>o+`https:${s.url}/${n.name} ${t*u[r][l]}w ${e*u[r][l]}h, `,"")}function A(e){var i;const{width:t,height:s}=((i=e.data)==null?void 0:i.host.files.at(-1))??{};if(!t||!s)return 1;const r=t/s;return r<=1?1:r<=1.5625?2:r<=2.125?3:4}function F(e){const t=!("user"in e);return{id:"PLATFORM#"+e.id,name:t?e.name:e.user.username,immutable:!0,privileged:!0,tags:[],flags:0,provider:"PLATFORM",scope:t?"GLOBAL":"CHANNEL",owner:t?void 0:{id:e.user_id.toString(),username:e.user.username,display_name:e.user.username,avatar_url:e.user.profile_pic},emotes:e.emotes.map(s=>{const r=h(s,t?void 0:e.user);return{id:s.id.toString(),name:s.name,flags:0,provider:"PLATFORM",data:r}})}}function G(e,t){const s={id:e.id??"",name:e.token??"",flags:0,tags:[],state:[],lifecycle:3,listed:!0,owner:t?{id:t.id,username:t.displayName,display_name:t.displayName,avatar_url:t.profileImageURL}:null,host:{url:"//static-cdn.jtvnw.net/emoticons/v2/"+e.id+"/default/dark",files:[{name:"1.0",format:"PNG"},{name:"2.0",format:"PNG"},{name:"4.0",format:"PNG"}]}};return s.host.srcset=d(s.host,"PLATFORM"),s}function h(e,t){var s;return{id:(s=e.id)==null?void 0:s.toString(),name:e.name,flags:void 0,tags:[],state:[],lifecycle:3,listed:!0,owner:t?{id:t.id,username:t.username,display_name:t.username,avatar_url:t.profile_pic}:null,host:{url:"//files.kick.com/emotes/"+e.id.toString(),files:[{name:"fullsize",format:"PNG"}],srcset:`https://files.kick.com/emotes/${e.id}/fullsize 2.2x`}}}function N(e){var t;return{id:e.emoteID??"",name:`${e.alt} ${e.cheerAmount}`,flags:0,tags:[],state:[],lifecycle:3,listed:!0,owner:null,host:{url:((t=e.images)==null?void 0:t.dark["1x"].split("/").slice(0,-1).join("/").replace("https:",""))??"",files:[{name:"1.gif",format:"GIF"},{name:"2.gif",format:"GIF"},{name:"3.gif",format:"GIF"},{name:"4.gif",format:"GIF"}]}}}function P(e){const t=e.image1x.slice(6).split("/"),s=t.slice(0,t.length-1).join("/");return{id:e.setID+":"+e.version,kind:"BADGE",provider:"PLATFORM",data:{name:e.title,host:{url:s,files:[{name:"1",format:"PNG"},{name:"2",format:"PNG"},{name:"3",format:"PNG"}]},tooltip:e.title}}}function I(e){var s;const t=new g(e.id);return t.body=((s=e.content)==null?void 0:s.text)??"",t.author=e.sender?T(e.sender):null,t.badges=e.sender&&Array.isArray(e.sender.displayBadges)?e.sender.displayBadges.reduce((r,i)=>(r[i.setID]=i.version,r),{}):{},t.timestamp=new Date(e.sentAt).getTime(),t.moderation.deleted=!!e.deletedAt,t}function T(e){return{id:e.id,username:e.login,displayName:e.displayName,color:e.chatColor}}function L(e){const t=e.split(".");let s=t.slice(0,3).map(i=>parseInt(i,10)).reduce((i,o,n)=>i+o*Math.pow(100,2-n),0).toString(10);return t.length>3&&(s+="."+parseInt(t[3])),parseFloat(s)}function $(e,t){return{id:e,name:t,tags:[],state:[],lifecycle:3,listed:!0,owner:null,host:{url:"//files.kick.com/emotes/"+e,files:[{name:"fullsize",format:"PNG"}],srcset:`https://files.kick.com/emotes/${e}/fullsize 2.2x`}}}export{F as a,N as b,$ as c,G as d,A as e,I as f,P as g,y as h,d as i,L as s};
