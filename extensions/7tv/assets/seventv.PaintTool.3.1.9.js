import{e as x,x as i,l as p,Q as M,R as H,m as e,_ as C,r as k,J as nt,a1 as E,F as T,E as z,N as c,M as $,u as V,B as U,D as b,q as w,G as N,O as R,a9 as ut,f as O,ak as q,aj as pt,K as at,a4 as ct,ar as vt,w as lt,H as mt,a as st,ag as _t,t as ft,C as A,I as L,as as ht,at as X}from"./seventv.index.3.1.9.js";import{w as K,m as B,n as yt,k as gt,c as J,r as wt}from"./seventv.GearsIcon.3.1.9.js";import{D as W,a as $t,H as Y,c as kt,S as It,b as bt,u as Q,g as it,d as Z}from"./seventv.useCosmetics.3.1.9.js";import{C as tt}from"./seventv.ChevronIcon.3.1.9.js";import{v as F}from"./seventv.v4.3.1.9.js";import{U as G}from"./seventv.UiButton.3.1.9.js";import{U as rt}from"./seventv.UiScrollable.3.1.9.js";import{U as et}from"./seventv.UiFloating.3.1.9.js";import"./seventv.ChatMessage.3.1.9.js";import"./seventv.index.3.1.92.js";const Ct=d=>(M("data-v-edf274bd"),d=d(),H(),d),At=["direction"],Tt=Ct(()=>e("path",{d:"M214.6 454.6L192 477.3l-22.6-22.6-144-144L2.7 288 48 242.8l22.6 22.6L160 354.8 160 64l0-32 64 0 0 32 0 290.7 89.4-89.4L336 242.8 381.3 288l-22.6 22.6-144 144z"},null,-1)),xt=[Tt],Ut=x({__name:"ArrowIcon",props:{direction:{}},setup(d){return(g,m)=>(i(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",direction:g.direction||"down",width:"1em",height:"1em",fill:"currentColor"},xt,8,At))}}),Vt=C(Ut,[["__scopeId","data-v-edf274bd"]]),Pt={},St={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"1em",height:"1em",fill:"currentcolor"},Rt=e("path",{d:"M256 80V48H192V80 224H48 16v64H48 192V432v32h64V432 288H400h32V224H400 256V80z"},null,-1),Nt=[Rt];function Dt(d,g){return i(),p("svg",St,Nt)}const dt=C(Pt,[["render",Dt]]),Lt=["onUpdate:modelValue"],Et=["onUpdate:modelValue","onInput"],Gt=["value","onInput"],Mt={for:"move"},Ht={for:"n"},zt=x({__name:"PaintToolGradientStop",props:{modelValue:{}},emits:["update:modelValue"],setup(d,{emit:g}){const m=d,_=g,t=k([]),v=k(1);function r(){const a=t.value.length?structuredClone(ut(t.value[t.value.length-1])):{id:F(),at:0,color:0,alpha:1};t.value.push(a)}function h(a,o){a.target instanceof HTMLInputElement&&(o.color=Y(a.target.value,v.value))}function n(a,o){if(!(a.target instanceof HTMLInputElement))return;const u=a.target.valueAsNumber*255;o.color=o.color&4294967040|u&255}return K(t.value,a=>{_("update:modelValue",a.map(o=>({at:o.at,color:o.color})))},{throttle:50}),nt(()=>{for(const a of m.modelValue??[])t.value.push({id:F(),at:a.at,color:a.color,alpha:(a.color&255)/255})}),(a,o)=>{const u=E("tooltip");return i(),p(T,null,[(i(!0),p(T,null,z(t.value,(f,s)=>(i(),p("div",{key:f.id,class:"seventv-paint-tool-gradient-stop"},[c(e("input",{"onUpdate:modelValue":l=>t.value[s].at=l,type:"number",for:"at",step:"0.01"},null,8,Lt),[[$,t.value[s].at,void 0,{number:!0}],[u,"Position"]]),c(e("input",{"onUpdate:modelValue":l=>t.value[s].alpha=l,type:"number",for:"alpha",step:"0.025",min:"0",max:"1",onInput:l=>n(l,t.value[s])},null,40,Et),[[$,t.value[s].alpha],[u,"Alpha"]]),c(e("input",{type:"color",for:"color",value:V(W)(t.value[s].color,!1),onInput:l=>h(l,t.value[s])},null,40,Gt),[[u,"Color"]]),e("div",Mt,[t.value[s-1]?c((i(),U(tt,{key:0,direction:"left",onClick:l=>t.value.splice(s-1,0,t.value.splice(s,1)[0])},null,8,["onClick"])),[[u,"<- #"+(s-1)]]):b("",!0),t.value[s+1]?c((i(),U(tt,{key:1,direction:"right",onClick:l=>t.value.splice(s+1,0,t.value.splice(s,1)[0])},null,8,["onClick"])),[[u,"-> #"+(s+1)]]):b("",!0),c(w(B,{for:"close",onClick:l=>t.value.splice(s,1)},null,8,["onClick"]),[[u,"Delete Stop #"+s]])]),e("p",Ht,"#"+N(s),1),t.value[s].alpha<1?(i(),p("div",{key:0,class:"seventv-paint-tool-gradient-color-preview",style:R({backgroundColor:V($t)(t.value[s].color)})},null,4)):b("",!0)]))),128)),e("button",{class:"seventv-paint-tool-gradient-stop-add",onClick:r},[w(dt)])],64)}}}),Ot=C(zt,[["__scopeId","data-v-bc63d0a5"]]),P=d=>(M("data-v-a4743293"),d=d(),H(),d),Bt={class:"seventv-paint-tool-gradient-stop-metadata"},jt=P(()=>e("option",{value:"LINEAR_GRADIENT"},"Linear Gradient",-1)),Jt=P(()=>e("option",{value:"RADIAL_GRADIENT"},"Radial Gradient",-1)),Ft=P(()=>e("option",{value:"CONIC_GRADIENT"},"Conic Gradient",-1)),Kt=P(()=>e("option",{value:"URL"},"Image URL",-1)),Wt=[jt,Jt,Ft,Kt],Yt=ct('<option value="no-repeat" data-v-a4743293>No Repeat</option><option value="repeat" data-v-a4743293>Repeat All</option><option value="repeat-x" data-v-a4743293>Repeat Horizontally</option><option value="repeat-y" data-v-a4743293>Repeat Vertically</option><option value="round" data-v-a4743293>Round</option><option value="space" data-v-a4743293>Space</option>',6),qt=[Yt],Xt={for:"control"},Qt={key:3,for:"pos"},Zt=P(()=>e("label",null,"Position",-1)),te={key:4,for:"scale"},ee=P(()=>e("label",null,"Scale",-1)),oe={for:"stop-repeat"},ne=P(()=>e("label",null,"Repeat Stops",-1)),ae={key:0,class:"seventv-paint-tool-gradient-stop-list"},le=x({__name:"PaintToolGradient",props:{id:{},data:{}},emits:["update","delete"],setup(d,{emit:g}){const m=d,_=g,t=O(m.data??{function:"LINEAR_GRADIENT",canvas_repeat:"no-repeat",size:[1,1],at:[0,0],repeat:!1,stops:[],angle:90,image_url:"",shape:"circle"}),v=k(""),r=k("");return K(t,h=>{[v.value,r.value]=kt(h),_("update",h)},{throttle:50}),nt(()=>{Array.isArray(t.at)||(t.at=[0,0]),Array.isArray(t.size)||(t.size=[1,1]),Array.isArray(t.stops)||(t.stops=[]),_("update",t)}),(h,n)=>{const a=E("tooltip");return i(),p("div",{class:"seventv-paint-tool-gradient",onWheel:n[12]||(n[12]=at(()=>{},["stop"]))},[e("div",Bt,[c((i(),p("select",{"onUpdate:modelValue":n[0]||(n[0]=o=>t.function=o),for:"function"},Wt)),[[q,t.function],[a,"Generator"]]),c((i(),p("select",{"onUpdate:modelValue":n[1]||(n[1]=o=>t.canvas_repeat=o),for:"repeat-mode"},qt)),[[q,t.canvas_repeat],[a,"Canvas Repeat Mode"]]),t.function==="LINEAR_GRADIENT"?c((i(),p("input",{key:0,"onUpdate:modelValue":n[2]||(n[2]=o=>t.angle=o),for:"arg1",type:"number"},null,512)),[[$,t.angle,void 0,{number:!0}],[a,"Angle"]]):t.function==="RADIAL_GRADIENT"?c((i(),p("input",{key:1,"onUpdate:modelValue":n[3]||(n[3]=o=>t.shape=o),type:"text"},null,512)),[[$,t.shape],[a,"Shape"]]):t.function==="URL"?c((i(),p("input",{key:2,"onUpdate:modelValue":n[4]||(n[4]=o=>t.image_url=o),type:"text"},null,512)),[[$,t.image_url],[a,"Image URL"]]):b("",!0),e("div",Xt,[e("p",null,"Gradient #"+N(h.id),1),w(B,{onClick:n[5]||(n[5]=o=>_("delete"))})]),t.at?(i(),p("div",Qt,[Zt,c(e("input",{"onUpdate:modelValue":n[6]||(n[6]=o=>t.at[0]=o),type:"number",step:"0.01"},null,512),[[$,t.at[0],void 0,{number:!0}],[a,"X Position"]]),c(e("input",{"onUpdate:modelValue":n[7]||(n[7]=o=>t.at[1]=o),type:"number",step:"0.01"},null,512),[[$,t.at[1],void 0,{number:!0}],[a,"Y Position"]])])):b("",!0),t.size?(i(),p("div",te,[ee,c(e("input",{"onUpdate:modelValue":n[8]||(n[8]=o=>t.size[0]=o),type:"number",step:"0.01",min:"0"},null,512),[[$,t.size[0],void 0,{number:!0}],[a,"Width"]]),c(e("input",{"onUpdate:modelValue":n[9]||(n[9]=o=>t.size[1]=o),type:"number",step:"0.01",min:"0"},null,512),[[$,t.size[1],void 0,{number:!0}],[a,"Height"]])])):b("",!0),e("div",oe,[ne,c(e("input",{"onUpdate:modelValue":n[10]||(n[10]=o=>t.repeat=o),type:"checkbox"},null,512),[[pt,t.repeat]])])]),t.function!=="URL"?(i(),p("div",ae,[w(Ot,{modelValue:t.stops,"onUpdate:modelValue":n[11]||(n[11]=o=>t.stops=o),modelModifiers:{lazy:!0}},null,8,["modelValue"])])):b("",!0),e("div",{class:"seventv-paint-tool-gradient-outline",style:R({backgroundImage:v.value})},null,4)],32)}}}),se=C(le,[["__scopeId","data-v-a4743293"]]),ie=x({__name:"PaintToolList",props:{componentType:{},gridArea:{},color:{},data:{}},emits:["update"],setup(d,{emit:g}){var o;vt(u=>({"628d3ee5":u.color,f6d3ed0e:h.value}));const m=d,_=g,t=k(((o=m.data)==null?void 0:o.map((u,f)=>({index:f,data:u})))??[]),v=k(""),r=k(""),h=k("");function n(){t.value.push({index:t.value.length,data:null})}lt(()=>{v.value=m.gridArea+"-mod",r.value=m.gridArea,h.value=m.color+It(.075)});function a(){_("update",t.value.map(u=>u.data))}return(u,f)=>(i(),p(T,null,[e("button",{class:"paint-tool-list-mod",style:R({gridArea:v.value}),onClick:n},[w(dt)],4),e("div",{class:"paint-tool-list",style:R({gridArea:r.value})},[e("p",null,N(u.gridArea.toUpperCase()),1),e("div",null,[(i(!0),p(T,null,z(t.value,s=>(i(),U(mt(m.componentType),{id:s.index,key:s.index,data:s.data,onDelete:l=>t.value.splice(t.value.indexOf(s),1),onUpdate:l=>[s.data=l,a()]},null,40,["id","data","onDelete","onUpdate"]))),128))])],4)],64))}}),ot=C(ie,[["__scopeId","data-v-b2169bf0"]]),re={for:"offset"},de={for:"radius"},ue={for:"alpha"},pe={for:"color"},ce=["value"],ve=x({__name:"PaintToolShadow",props:{id:{},data:{}},emits:["update","delete"],setup(d,{emit:g}){const m=d,_=g,t=O(m.data??{x_offset:0,y_offset:0,radius:1,color:255}),v=k(1),r=k("");function h(a){a.target instanceof HTMLInputElement&&(t.color=Y(a.target.value,v.value))}function n(a){if(!(a.target instanceof HTMLInputElement))return;const o=a.target.valueAsNumber*255;t.color=t.color&4294967040|o&255}return st(t,a=>{_("update",a),r.value=bt(a)}),(a,o)=>{const u=E("tooltip");return i(),p("div",{class:"seventv-paint-tool-shadow",onWheel:o[7]||(o[7]=at(()=>{},["stop"]))},[e("div",{for:"preview",style:R({filter:r.value})},[w(B,{onClick:o[0]||(o[0]=f=>_("delete"))}),e("span",null,"Shadow #"+N(a.id),1)],4),e("div",re,[c(e("input",{"onUpdate:modelValue":o[1]||(o[1]=f=>t.x_offset=f),type:"number",step:"0.05"},null,512),[[$,t.x_offset],[u,"X Offset"]]),c(e("input",{"onUpdate:modelValue":o[2]||(o[2]=f=>t.y_offset=f),type:"number",step:"0.05"},null,512),[[$,t.y_offset],[u,"Y Offset"]])]),e("div",de,[c(e("input",{"onUpdate:modelValue":o[3]||(o[3]=f=>t.radius=f),type:"number",step:"0.05",min:"0"},null,512),[[$,t.radius],[u,"Radius"]])]),e("div",ue,[c(e("input",{"onUpdate:modelValue":o[4]||(o[4]=f=>v.value=f),type:"number",min:"0",max:"1",step:"0.025",onInput:o[5]||(o[5]=f=>n(f))},null,544),[[$,v.value],[u,"Alpha"]])]),e("div",pe,[c(e("input",{type:"color",value:V(W)(t.color,!1),onInput:o[6]||(o[6]=f=>h(f))},null,40,ce),[[u,"color"]])])],32)}}}),me=C(ve,[["__scopeId","data-v-603c8373"]]),j=d=>(M("data-v-4b6e279f"),d=d(),H(),d),_e={class:"seventv-paint-tool"},fe={class:"seventv-paint-tool-title"},he=["data-seventv-paint-id"],ye={class:"seventv-paint-tool-preview"},ge=["data-seventv-paint-id"],we={class:"seventv-paint-tool-content"},$e={for:"paint"},ke={for:"color"},Ie=["value"],be=j(()=>e("div",{class:"text-mod"},null,-1)),Ce=j(()=>e("div",{class:"text"},null,-1)),Ae=j(()=>e("div",{class:"flair-add"},null,-1)),Te=j(()=>e("div",{class:"flairs"},null,-1)),xe=x({__name:"PaintToolMaker",props:{id:{}},emits:["exit","save"],setup(d,{emit:g}){const m=d,_=g,{cosmetics:t}=it(),{identity:v}=yt(gt()),r=t[m.id??""],h=k(r?r.id:F()),n=O((r==null?void 0:r.data)??{name:"Untitled Paint",color:2139062271,gradients:[],shadows:[]});function a(){return{id:h.value,kind:"PAINT",provider:"7TV",data:n}}function o(){if(!v.value)return;const s=Z(v.value.id).paints;s.clear(),s.set(h.value,a())}function u(){if(!v.value)return;Z(v.value.id).paints.delete(h.value),J.cosmetics.delete(h.value).then(()=>_("exit"))}function f(){if(!v.value)return;const s=JSON.stringify(a());navigator.clipboard.writeText(s)}return K(n,()=>Q(a()),{throttle:50,immediate:!0}),_t(()=>Q(a(),!0)),(s,l)=>{const I=E("tooltip");return i(),p("main",_e,[e("div",fe,[w(Vt,{for:"exit-icon",direction:"left",onClick:l[0]||(l[0]=y=>[_("exit"),_("save",a())])}),c(e("input",{"onUpdate:modelValue":l[1]||(l[1]=y=>n.name=y)},null,512),[[$,n.name]]),e("div",{class:ft(["seventv-paint-tool-preview seventv-paint full-preview",{"is-empty":!n.gradients.length}]),"data-seventv-paint-id":h.value},null,10,he),e("div",ye,[(i(!0),p(T,null,z(Array(3).fill({}),(y,D)=>(i(),p("span",{key:D,style:R({fontSize:`calc(1rem * ${D+1})`}),class:"seventv-paint seventv-painted-content","data-seventv-paint-id":h.value,"data-seventv-painted-text":!0}," Preview ",12,ge))),128))])]),w(rt,null,{default:A(()=>[e("div",we,[e("div",$e,[w(G,{onClick:o},{default:A(()=>[L("TRY ON")]),_:1}),w(G,{onClick:f},{default:A(()=>[L("SHARE")]),_:1}),w(G,{onClick:u},{default:A(()=>[L("DELETE")]),_:1}),e("div",ke,[c(w(B,{onClick:l[2]||(l[2]=y=>n.color=null)},null,512),[[I,"Unset Override Color"]]),c(e("input",{type:"color",value:n.color?V(W)(n.color):null,onInput:l[3]||(l[3]=y=>n.color=V(Y)(y.target.value))},null,40,Ie),[[I,"Override Color"]])])]),w(ot,{color:"#f542c2","component-type":se,"grid-area":"gradients",data:n.gradients,onUpdate:l[4]||(l[4]=y=>n.gradients=y)},null,8,["data"]),w(ot,{color:"#f5e6ce","component-type":me,"grid-area":"shadows",data:n.shadows,onUpdate:l[5]||(l[5]=y=>n.shadows=y)},null,8,["data"]),be,Ce,Ae,Te])]),_:1})])}}}),Ue=C(xe,[["__scopeId","data-v-4b6e279f"]]),Ve={class:"paint-tool-paint-card"},Pe={for:"name"},Se={for:"colorball"},Re=["data-seventv-paint-id"],Ne=x({__name:"PaintToolPaintCard",props:{paint:{}},setup(d){return(g,m)=>{const _=E("cosmetic-paint");return i(),p("div",Ve,[e("div",Pe,[c((i(),p("span",null,[L(N(g.paint.data.name),1)])),[[_,g.paint.id]])]),e("div",Se,[e("div",{class:"seventv-paint","data-seventv-paint-id":g.paint.id},null,8,Re)])])}}}),De=C(Ne,[["__scopeId","data-v-4eeea0d6"]]),S=d=>(M("data-v-c9954e54"),d=d(),H(),d),Le={key:0,class:"paint-tool-home"},Ee={for:"heading"},Ge=S(()=>e("h3",null,"Paint Tool",-1)),Me=S(()=>e("h6",{style:{color:"red"}}," ⚠️ Paints you try on here will not be visible to other users and are not permanent. To actually change your paint, go to 'Edit Profile' on 7tv.app. ",-1)),He=S(()=>e("br",null,null,-1)),ze=S(()=>e("br",null,null,-1)),Oe=S(()=>e("br",null,null,-1)),Be=S(()=>e("br",null,null,-1)),je=S(()=>e("sub",null,"Select Project",-1)),Je={class:"paint-tool-projects"},Fe=["onKeydown"],Ke=x({__name:"PaintTool",setup(d){const{cosmetics:g}=it(),m=k("preview"),_=k(null),t=k([]),v=k(null),r=O({prompt:!1,value:"",error:wt("",2500)});function h(l){m.value="maker",_.value=l.id}function n(){m.value="preview",_.value=null}async function a(l){g[l.id]=l;const I=J.cosmetics.put(JSON.parse(JSON.stringify(l)));return I.then(s),I}function o(){m.value="maker",_.value=null}async function u(){r.error="";const l=r.prompt,I=l?r.value:await navigator.clipboard.readText().catch(()=>"");r.value="",r.prompt=!1,I||(r.prompt=!0);let y;try{y=JSON.parse(I)}catch(D){r.prompt=!l,r.error="Invalid JSON: "+D.message;return}if(!f(y)){r.prompt=!0,r.error="Invalid Paint Data";return}await a(y),r.prompt=!1}function f(l){return!(!l.id||typeof l.data!="object"||typeof l.data.name!="string")}function s(){J.cosmetics.where("kind").equals("PAINT").toArray().then(l=>{t.value=l})}return lt(s),st(m,s),(l,I)=>(i(),p(T,null,[m.value==="preview"?(i(),p("main",Le,[e("div",Ee,[Ge,e("div",{ref_key:"shareButton",ref:v},[w(G,{onClick:u},{default:A(()=>[L("IMPORT...")]),_:1})],512),Me,He,ze,Oe,Be,je]),w(rt,null,{default:A(()=>[e("div",Je,[(i(!0),p(T,null,z(t.value,y=>(i(),U(De,{key:y.id,paint:y,onClick:D=>h(y)},null,8,["paint","onClick"]))),128)),e("div",{class:"paint-tool-new-project-button",onClick:o},"New Project")])]),_:1})])):b("",!0),v.value?(i(),p(T,{key:1},[r.prompt&&v.value?(i(),U(et,{key:0,anchor:v.value,placement:"bottom",middleware:[V(X)(4)]},{default:A(()=>[c(e("input",{"onUpdate:modelValue":I[0]||(I[0]=y=>r.value=y),placeholder:"Import Code",autofocus:!0,onKeydown:ht(u,["enter"])},null,40,Fe),[[$,r.value]])]),_:1},8,["anchor","middleware"])):b("",!0),r.error?(i(),U(et,{key:1,anchor:v.value,placement:"left",middleware:[V(X)(8)]},{default:A(()=>[e("p",null,N(r.error),1)]),_:1},8,["anchor","middleware"])):b("",!0)],64)):m.value==="maker"?(i(),U(Ue,{key:2,id:_.value,onExit:n,onSave:a},null,8,["id"])):b("",!0)],64))}}),ao=C(Ke,[["__scopeId","data-v-c9954e54"]]);export{ao as default};
