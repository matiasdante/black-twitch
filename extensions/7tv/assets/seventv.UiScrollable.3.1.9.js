import{e as C,r as i,J as R,ag as $,x as M,l as S,m as k,an as A,O as P,K as V,D as Y,_ as F}from"./seventv.index.3.1.9.js";const W={class:"scrollable-container"},q=["visible","is-active"],J=["onMousedown"],K=C({__name:"UiScrollable",emits:["container-scroll","container-wheel"],setup(j,{expose:B,emit:D}){let o,f,u,_=0,c;const b=i(0),v=i();let l;const t=i(),a=i(),r=i(!1),d=i(!1),g=i(!1),E=i(0),T=i(0),L=D;function m(){if(!t.value)return;const e=t.value;e.scrollHeight>e.clientHeight?(d.value=!0,E.value=e.scrollTop/e.scrollHeight*e.clientHeight,T.value=e.clientHeight/e.scrollHeight*e.clientHeight,y()):d.value=!1}function y(){if(!d.value)return;const e=Date.now();e<_||(_=e+500,g.value=!0,u&&clearTimeout(u),u=window.setTimeout(()=>{g.value=!1},1e3))}function H(e=!0){t.value&&(e?t.value.scrollBy({top:-200}):t.value.scrollBy({top:200}))}function x(e){L("container-scroll",e),m()}function I(e){L("container-wheel",e)}function N(e){if(l&&(clearInterval(l),l=void 0),!a.value||a.value!==e.target)return;const n=e.offsetY<E.value;H(n),l=window.setInterval(()=>{H(n)},150),r.value=!0,window.removeEventListener("mouseup",w),window.addEventListener("mouseup",w),e.preventDefault()}function w(){l&&(clearInterval(l),l=void 0),r.value=!1,window.removeEventListener("mouseup",w)}function U(e){a.value&&(b.value=e.offsetY,v.value=a.value.getBoundingClientRect(),r.value=!0,window.removeEventListener("mouseup",h),window.removeEventListener("mousemove",p),window.addEventListener("mouseup",h),window.addEventListener("mousemove",p),e.preventDefault())}function h(){b.value=0,v.value=void 0,r.value=!1,window.removeEventListener("mouseup",h),window.removeEventListener("mousemove",p)}function p(e){c||(c=requestAnimationFrame(()=>{if(c=void 0,!v.value||!t.value)return;const n=(e.pageY-v.value.top-b.value)/v.value.height,s=t.value.scrollHeight*n;t.value.scrollTo({top:s})}))}return B({container:t,scrollbar:a,isActive:r}),R(()=>{t.value&&(o=new ResizeObserver(()=>{m()}),t.value.childNodes.forEach(e=>{e instanceof Element&&(o==null||o.observe(e))}),f=new MutationObserver(e=>{if(m(),!!o)for(const n of e)n.addedNodes.forEach(s=>{s instanceof Element&&(o==null||o.observe(s))}),n.removedNodes.forEach(s=>{s instanceof Element&&(o==null||o.unobserve(s))})}),o.observe(t.value),f.observe(t.value,{childList:!0}),m())}),$(()=>{f&&f.disconnect(),o&&o.disconnect(),u&&clearTimeout(u),l&&clearInterval(l),c&&cancelAnimationFrame(c),window.removeEventListener("mouseup",w),window.removeEventListener("mouseup",h),window.removeEventListener("mousemove",p)}),(e,n)=>(M(),S("div",W,[k("div",{ref_key:"container",ref:t,class:"scrollable-contents",onScrollPassive:x,onWheelPassive:I,onMousemovePassive:n[0]||(n[0]=s=>y())},[A(e.$slots,"default",{},void 0,!0)],544),d.value?(M(),S("div",{key:0,ref_key:"scrollbar",ref:a,class:"scrollbar",visible:g.value,"is-active":r.value,onMousedown:N},[k("div",{class:"scrollbar-thumb",style:P({top:`${E.value}px`,height:`${T.value}px`}),onMousedown:V(U,["stop"])},null,44,J)],40,q)):Y("",!0)]))}}),O=F(K,[["__scopeId","data-v-92488ef3"]]);export{O as U};
