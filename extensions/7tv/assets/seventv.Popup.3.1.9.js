import{e as m,f as g,am as P,x as r,l as a,q as c,C as p,I as _,G as R,F as I,m as o,a9 as q,Q as x,R as C,_ as h}from"./seventv.index.3.1.9.js";import{C as S}from"./seventv.ChevronIcon.3.1.9.js";import{U as l}from"./seventv.UiButton.3.1.9.js";const f=s=>(x("data-v-ded37257"),s=s(),C(),s),k={class:"seventv-popup-inner"},w={key:0,class:"active-permission-request"},y=f(()=>o("h1",null,[_(" Coming Soon "),o("p",null,"You'll be able to see all the various chats you're connected to from here!")],-1)),E={class:"onboarding-button"},T=f(()=>o("span",null,"Onboarding",-1)),U=m({__name:"PopupInner",setup(s){const e=g({permissionsRequested:!1,tab:null,host:"",hostPermissions:[]});chrome.tabs.query({active:!0},n=>{for(const t of n){if(!t.url)continue;const i=new URL(t.url);P.test(i.host)&&(e.tab=t,e.host=i.host,e.hostPermissions=[`*://*.${i.host}/*`],chrome.permissions.getAll(d=>{d.origins&&(e.permissionsRequested=!d.origins.some(v=>v===e.hostPermissions[0]))}))}});function u(){e.tab&&chrome.permissions.request({origins:q(e.hostPermissions)},n=>{!n||!e.tab||typeof e.tab.id>"u"||(chrome.tabs.reload(e.tab.id),window.close())})}function b(){chrome.tabs.create({url:chrome.runtime.getURL("index.html#/onboarding/start")})}return(n,t)=>(r(),a("main",k,[e.permissionsRequested?(r(),a("div",w,[c(l,{onClick:t[0]||(t[0]=i=>u())},{default:p(()=>[_("Enable 7TV for "+R(e.host),1)]),_:1})])):(r(),a(I,{key:1},[y,o("div",E,[c(l,{class:"ui-button-important",onClick:b},{default:p(()=>[T,c(S,{direction:"right"})]),_:1})])],64))]))}}),B=h(U,[["__scopeId","data-v-ded37257"]]),N={class:"seventv-popup"},O=m({__name:"Popup",setup(s){return(e,u)=>(r(),a("main",N,[o("div",null,[c(B)])]))}}),D=h(O,[["__scopeId","data-v-f8cd35dd"]]);export{D as default};
